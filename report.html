<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Frontend Analysis Report — lahza_FrontEnd</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            margin: 20px;
            color: #111
        }

        h1,
        h2,
        h3 {
            color: #0b5
        }

        section {
            margin-bottom: 18px
        }

        pre {
            background: #f6f8fa;
            padding: 12px;
            border-radius: 6px;
            overflow: auto
        }

        table {
            border-collapse: collapse;
            width: 100%
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 6px;
            text-align: left
        }

        .cat {
            font-weight: 700;
            color: #034
        }
    </style>
</head>

<body>
    <h1>Frontend Static Analysis Report — lahza_FrontEnd</h1>

    <section>
        <h2>Overview summary</h2>
        <p>This report summarizes a repo-wide scan of <strong>lahza_FrontEnd/src</strong>. It highlights high-impact
            issues across categories: logic errors, runtime risks, performance, rendering inefficiencies, missing
            dependencies, unused code, styling inconsistencies, security, accessibility, folder-structure, and
            anti-patterns. The scan prioritized concrete, actionable findings and includes file/line references and
            suggested fixes.</p>
    </section>

    <section>
        <h2>Identified issues (grouped)</h2>
        <ul>
            <li class="cat">Debug/Logging left in production: excessive <code>console.log</code> and
                <code>debugger</code> statements across many files.
            </li>
            <li class="cat">ESLint rules disabled: numerous files use top-of-file <code>/* eslint-disable ... */</code>,
                hiding real problems (especially hook deps and unused vars).</li>
            <li class="cat">Hook dependency risks: many components disable <code>react-hooks/exhaustive-deps</code> or
                omit dependencies in <code>useEffect</code>, risking stale closures or missed updates.</li>
            <li class="cat">Inline styles and inconsistent styling: multiple inline style usages instead of CSS classes
                or CSS variables.</li>
            <li class="cat">Accessibility issues: several <code>&lt;img&gt;</code> tags with missing or empty
                <code>alt</code> attributes; interactive elements logging to console rather than accessible actions.
            </li>
            <li class="cat">Potential performance hotspots: complex components (Gantt, large data tables) using
                memoization patterns inconsistently; unnecessary re-renders possible when deps arrays are incorrect.
            </li>
            <li class="cat">Security/Privacy risks: console logs printing user data and API payloads in files handling
                tickets, profile updates, and preferences.</li>
            <li class="cat">Anti-patterns: broad eslint disables, commented-out code blocks, and debug-only code left
                active.</li>
        </ul>
    </section>

    <section>
        <h2>Top sample findings (file-by-file)</h2>
        <table>
            <thead>
                <tr>
                    <th>File</th>
                    <th>Line(s)</th>
                    <th>Issue</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>`src/pages/support/TicketCreatePage.jsx`</td>
                    <td>183–201</td>
                    <td>Multiple <code>console.log</code> calls exposing user & FormData payloads before send.</td>
                </tr>
                <tr>
                    <td>`src/features/tickets/hooks/useTickets.js`</td>
                    <td>17–36</td>
                    <td>Debug logs for FormData + JSON; potential leak of uploaded file info.</td>
                </tr>
                <tr>
                    <td>`src/features/calendar/components/EventForm.jsx`</td>
                    <td>298–313</td>
                    <td>Logs showing event payloads and creation success; also uses
                        <code>/* eslint-disable react-hooks/exhaustive-deps */</code>.
                    </td>
                </tr>
                <tr>
                    <td>`src/features/settings/hooks/usePreferencesQuery.js`</td>
                    <td>15–47</td>
                    <td>Verbose logging of API responses and JSON.stringify of payloads.</td>
                </tr>
                <tr>
                    <td>`src/components/kibo-ui/gantt/index.jsx`</td>
                    <td>Many (600–1250)</td>
                    <td>Very large component; uses many <code>useMemo</code>/<code>useCallback</code>. Missing/incorrect
                        deps here cause heavy re-renders.</td>
                </tr>
                <tr>
                    <td>`src/pages/*` (many)</td>
                    <td>Top of file</td>
                    <td>Many files start with <code></code> or other disables — hides
                        unused code and hook rule issues.</td>
                </tr>
                <tr>
                    <td>`src/**`</td>
                    <td>Multiple</td>
                    <td>Inline styles (e.g., style={{...}}) are used frequently, reducing consistency and theming
                        control.</td>
                </tr>
                <tr>
                    <td>`src/**`</td>
                    <td>Various</td>
                    <td>Multiple <code>&lt;img&gt;</code> elements without meaningful <code>alt</code> attributes
                        (accessibility).</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>Explanation & recommended fixes (by category)</h2>

        <h3>1. Remove debug logging</h3>
        <p>Why: Console logs can leak sensitive info and slow down performance in production.</p>
        <p>Fix: Remove logging or gate with a debug flag. Use a logging utility that respects an env flag.</p>
        <pre><code>// Before (remove):
console.log("User context:", user);

// After (safe):
if (process.env.NODE_ENV !== 'production') {
  console.debug('User context:', user);
}
    </code></pre>

        <h3>2. Re-enable ESLint rules and fix root causes</h3>
        <p>Why: Broad disables hide real issues. Address the root causes instead.</p>
        <p>Fix: Re-enable rules and fix unused variables, proper hook usage, or selectively disable with scoped comments
            and rationale.</p>
        <pre><code>// Bad: top-of-file
/* eslint-disable react-hooks/exhaustive-deps */

// Good: fix the effect dependency or explicitly document
useEffect(() =&gt; {
  // effect logic
}, [depA, depB]);

// If you must ignore one line
// eslint-disable-next-line react-hooks/exhaustive-deps -- explained: event handlers come from stable ref
useEffect(() =&gt; { /* ... */ }, []);
    </code></pre>

        <h3>3. Fix hook dependency and stale closure issues</h3>
        <p>Why: Missing deps cause stale state or missed updates; disabling the rule can mask bugs.</p>
        <p>Fix: Declare all dependencies; wrap stable values with <code>useCallback</code>/<code>useMemo</code> when
            appropriate.</p>
        <pre><code>// Example fix for useEffect
useEffect(() =&gt; {
  async function fetchData() { await api.get(url); }
  fetchData();
}, [url, api]);
    </code></pre>

        <h3>4. Accessibility improvements</h3>
        <p>Why: Images without alt attributes and interactive elements without accessible labels harm users.</p>
        <p>Fix: Add meaningful <code>alt</code> attributes and proper ARIA labels.</p>
        <pre><code>// Before:
&lt;img src="/images/logo.png" alt="" /&gt;

// After:
&lt;img src="/images/logo.png" alt="Company logo" /&gt;
    </code></pre>

        <h3>5. Styling consistency</h3>
        <p>Why: Inline styles scatter visual rules and impede theming.</p>
        <p>Fix: Move styles to CSS modules / Tailwind classes / central stylesheet and use CSS variables for colors and
            spacing.</p>
        <pre><code>// Before:
&lt;div style={{ padding: '20px', textAlign: 'center' }}&gt;...

// After (Tailwind):
&lt;div className="py-5 text-center"&gt;...
    </code></pre>

        <h3>6. Performance: memoization & heavy components</h3>
        <p>Why: Large components (Gantt, data tables) can re-render frequently if props or contexts change unexpectedly.
        </p>
        <p>Fix: Ensure useMemo/useCallback have correct deps, avoid recreating object props (use stable refs), and
            paginate/virtualize large lists.</p>
        <pre><code>// Ensure stable props
const stableOptions = useMemo(() =&gt; ({ pageSize: 20 }), []);
&lt;DataTable options={stableOptions} /&gt;
    </code></pre>

        <h3>7. Security & privacy</h3>
        <p>Why: Several files log API payloads and user objects (including attachments). In production this may leak
            PHI/PII.</p>
        <p>Fix: Remove logs, sanitize any client-side debug output, and avoid printing FormData contents.</p>

    </section>

    <section>
        <h2>Representative file-by-file breakdown (short)</h2>
        <table>
            <thead>
                <tr>
                    <th>File</th>
                    <th>Lines</th>
                    <th>Notes & fix</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>`src/pages/support/TicketCreatePage.jsx`</td>
                    <td>~183–201</td>
                    <td>Remove debug logs; ensure FormData not printed; add error handling and user-facing error
                        messages.</td>
                </tr>
                <tr>
                    <td>`src/features/tickets/hooks/useTickets.js`</td>
                    <td>~17–36</td>
                    <td>Remove FormData inspection logs; validate file sizes/types and avoid console printing.</td>
                </tr>
                <tr>
                    <td>`src/features/calendar/components/EventForm.jsx`</td>
                    <td>~298–313</td>
                    <td>Fix hook deps, remove logs, validate event data before send.</td>
                </tr>
                <tr>
                    <td>`src/components/kibo-ui/gantt/index.jsx`</td>
                    <td>600–1250</td>
                    <td>Profile render counts; ensure heavy computations memoized with correct deps; consider splitting
                        into smaller components.</td>
                </tr>
                <tr>
                    <td>`src/**`</td>
                    <td>many</td>
                    <td>Top-of-file eslint disables — re-enable and fix underlying issues incrementally.</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>Concrete quick fixes (copy-paste)</h2>
        <h3>Remove debug prints centrally</h3>
        <pre><code>// lib/logger.js
export const logger = {
  debug: (...args) =&gt; { if (process.env.NODE_ENV !== 'production') console.debug(...args); },
  info: (...args) =&gt; { if (process.env.NODE_ENV !== 'production') console.info(...args); }
};

// Usage replacement
import { logger } from '../lib/logger';
logger.debug('Payload', payload);
    </code></pre>

        <h3>Example: Fix useEffect dependency</h3>
        <pre><code>// Before (missing deps):
useEffect(() =&gt; { fetchSomething(); }, []);

// After:
useEffect(() =&gt; { fetchSomething(); }, [fetchSomething]);
    </code></pre>
    </section>

    <section>
        <h2>Next steps</h2>
        <ul>
            <li>Run ESLint with the recommended config and fix top violations (start with no-console,
                react-hooks/exhaustive-deps, no-unused-vars).</li>
            <li>Refactor large components into smaller parts and add memoization with correct deps.</li>
            <li>Replace inline styles with CSS/Tailwind classes.</li>
            <li>Perform a security review for any remaining console logging of sensitive data and remove before
                production deploy.</li>
            <li>If you want, I can apply an automated patch to remove console.logs and re-enable ESLint rules
                incrementally.</li>
        </ul>
    </section>

    <footer>
        <small>Report generated: January 15, 2026 — Phase 2. This file is a concise summary; request deeper diffs or
            per-file patches to continue.</small>
    </footer>
</body>

</html>